"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[115,170],{713:function(e,n,t){t.d(n,{Df:function(){return i},TP:function(){return s},tx:function(){return u},z1:function(){return l},zv:function(){return o}});var r=t(861),a=t(687),c=t.n(a),i=function(){var e=(0,r.Z)(c().mark((function e(){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=104cb1f11a5d6d55ba8d6504d9bd060a");case 3:return n=e.sent,e.next=6,n.json();case 6:return t=e.sent,e.abrupt("return",t.results);case 10:throw e.prev=10,e.t0=e.catch(0),new Error("Failed to fetch trending movies");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=(0,r.Z)(c().mark((function e(n){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(n,"?api_key=104cb1f11a5d6d55ba8d6504d9bd060a"));case 3:return t=e.sent,e.next=6,t.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),new Error("Failed to fetch movie details");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)(c().mark((function e(n){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(n,"/credits?api_key=104cb1f11a5d6d55ba8d6504d9bd060a"));case 3:return t=e.sent,e.next=6,t.json();case 6:return r=e.sent,e.abrupt("return",r.cast);case 10:throw e.prev=10,e.t0=e.catch(0),new Error("Failed to fetch movie credits");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(c().mark((function e(n){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(n,"/reviews?api_key=104cb1f11a5d6d55ba8d6504d9bd060a"));case 3:return t=e.sent,e.next=6,t.json();case 6:return r=e.sent,e.abrupt("return",r.results);case 10:throw e.prev=10,e.t0=e.catch(0),new Error("Failed to fetch movie reviews");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(c().mark((function e(n){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/search/movie?api_key=104cb1f11a5d6d55ba8d6504d9bd060a&query=".concat(encodeURIComponent(n)));case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("Failed to search movies");case 6:return e.next=8,t.json();case 8:return r=e.sent,e.abrupt("return",r.results);case 12:throw e.prev=12,e.t0=e.catch(0),new Error("Failed to search movies");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}()},170:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var r,a,c,i,s,o,u,l,d,p=t(861),h=t(439),f=t(687),v=t.n(f),x=t(791),m=t(689),w=t(713),b=t(168),j=t(686),g=j.Z.div(r||(r=(0,b.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n"]))),Z=j.Z.div(a||(a=(0,b.Z)(["\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 20px;\n"]))),k=j.Z.div(c||(c=(0,b.Z)(["\n  img {\n    width: 300px;\n    height: auto;\n    margin-right: 20px;\n  }\n"]))),y=j.Z.div(i||(i=(0,b.Z)(["\n  text-align: left;\n"]))),C=j.Z.div(s||(s=(0,b.Z)(["\n  margin-top: 20px;\n"]))),_=j.Z.ul(o||(o=(0,b.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  list-style: none;\n  padding: 0;\n"]))),S=j.Z.li(u||(u=(0,b.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 10px;\n  text-align: center;\n"]))),E=j.Z.img(l||(l=(0,b.Z)(["\n  width: 200px;\n  height: auto;\n"]))),R=j.Z.button(d||(d=(0,b.Z)(["\n  margin-top: 20px;\n"]))),F=t(184),U=function(){var e=(0,m.UO)().movieId,n=(0,m.s0)(),t=(0,x.useState)(null),r=(0,h.Z)(t,2),a=r[0],c=r[1],i=(0,x.useState)([]),s=(0,h.Z)(i,2),o=s[0],u=s[1],l=(0,x.useState)([]),d=(0,h.Z)(l,2),f=d[0],b=d[1],j=(0,x.useState)(!1),U=(0,h.Z)(j,2),z=U[0],I=U[1],H=(0,x.useState)(!1),P=(0,h.Z)(H,2),T=P[0],D=P[1];(0,x.useEffect)((function(){var n=function(){var n=(0,p.Z)(v().mark((function n(){var t;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,w.TP)(e);case 3:t=n.sent,c(t),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error("Error fetching movie details:",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();n()}),[e]);var L=function(){var n=(0,p.Z)(v().mark((function n(){var t;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(z){n.next=11;break}return n.prev=1,n.next=4,(0,w.zv)(e);case 4:t=n.sent,u(t),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.error("Error fetching movie credits:",n.t0);case 11:I(!z);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(){return n.apply(this,arguments)}}(),N=function(){var n=(0,p.Z)(v().mark((function n(){var t;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(T){n.next=11;break}return n.prev=1,n.next=4,(0,w.tx)(e);case 4:t=n.sent,b(t),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.error("Error fetching movie reviews:",n.t0);case 11:D(!T);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(){return n.apply(this,arguments)}}();return a?(0,F.jsxs)(g,{children:[(0,F.jsx)("button",{onClick:function(){n(-1)},children:"Go Back"}),(0,F.jsx)("h2",{children:a.title}),(0,F.jsxs)(Z,{children:[(0,F.jsx)(k,{children:(0,F.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(a.poster_path),alt:a.title})}),(0,F.jsxs)(y,{children:[(0,F.jsxs)("p",{children:["Release Date: ",a.release_date]}),(0,F.jsxs)("p",{children:["Overview: ",a.overview]})]})]}),(0,F.jsx)(R,{onClick:L,children:z?"Hide Cast":"Show Cast"}),z&&(0,F.jsx)("div",{children:(0,F.jsxs)(C,{children:[(0,F.jsx)("h3",{children:"Cast"}),(0,F.jsx)(_,{children:o.map((function(e){return(0,F.jsxs)(S,{children:[(0,F.jsx)(E,{src:"https://image.tmdb.org/t/p/w200".concat(e.profile_path),alt:e.name}),e.name]},e.id)}))})]})}),(0,F.jsx)(R,{onClick:N,children:T?"Hide Reviews":"Show Reviews"}),T&&(0,F.jsxs)("div",{children:[(0,F.jsx)("h3",{children:"Reviews"}),(0,F.jsx)("ul",{children:f.map((function(e){return(0,F.jsxs)("li",{children:[(0,F.jsxs)("p",{children:["Author: ",e.author]}),(0,F.jsx)("p",{children:e.content})]},e.id)}))})]})]}):(0,F.jsx)("div",{children:"Loading..."})}},126:function(e,n,t){t(791);var r=t(87),a=t(184);n.Z=function(e){var n=e.movies;return(0,a.jsx)("ul",{children:n.map((function(e){return(0,a.jsx)("li",{children:(0,a.jsx)(r.rU,{to:"/movies/".concat(e.id),children:e.title})},e.id)}))})}},115:function(e,n,t){t.r(n);var r=t(861),a=t(439),c=t(687),i=t.n(c),s=t(791),o=t(689),u=t(713),l=t(126),d=t(170),p=t(184);n.default=function(){var e=(0,o.s0)(),n=(0,o.TH)(),t=(0,s.useState)([]),c=(0,a.Z)(t,2),h=c[0],f=c[1],v=(0,s.useState)(""),x=(0,a.Z)(v,2),m=x[0],w=x[1],b=(0,s.useState)(null),j=(0,a.Z)(b,2),g=j[0],Z=j[1],k=(0,s.useState)(""),y=(0,a.Z)(k,2),C=y[0],_=y[1],S=(0,s.useState)(null),E=(0,a.Z)(S,2),R=E[0],F=E[1],U=(0,s.useCallback)((0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.z1)(m);case 3:n=e.sent,f(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),F(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[m]),z=(0,s.useCallback)((function(){e("/goit-react-hw-05-movies/movies?search=".concat(encodeURIComponent(m)))}),[e,m]),I=(0,s.useCallback)((function(n){Z(n),e("/goit-react-hw-05-movies/movies/".concat(n))}),[e]),H=(0,s.useCallback)((function(){Z(null),w(C),e("../")}),[C,e]);if((0,s.useEffect)((function(){var e=new URLSearchParams(n.search).get("search");e&&(w(e),_(e))}),[n.search]),(0,s.useEffect)((function(){""!==m&&U()}),[m,U]),(0,s.useEffect)((function(){var e=n.pathname.split("/").pop();e&&!isNaN(e)&&Z(parseInt(e))}),[n.pathname]),R)return(0,p.jsxs)("div",{children:["\u041f\u043e\u043c\u0438\u043b\u043a\u0430: ",R]});if(g){var P=h.find((function(e){return e.id===g}));return(0,p.jsxs)("div",{children:[(0,p.jsx)("button",{onClick:H,children:"\u041d\u0430\u0437\u0430\u0434"}),(0,p.jsx)(d.default,{movie:P})]})}return(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{children:"\u0424\u0456\u043b\u044c\u043c\u0438"}),(0,p.jsx)(l.Z,{movies:h,onSelectMovie:I}),(0,p.jsxs)("div",{children:[(0,p.jsx)("input",{type:"text",value:m,onChange:function(e){return w(e.target.value)}}),(0,p.jsx)("button",{onClick:z,children:"\u041f\u043e\u0448\u0443\u043a"})]})]})}}}]);
//# sourceMappingURL=115.813d7c77.chunk.js.map